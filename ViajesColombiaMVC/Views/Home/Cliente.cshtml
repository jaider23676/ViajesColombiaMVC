@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    ViewData["Title"] = "Panel del Cliente";
    var usuario = Context.Session.GetString("Usuario");

    var destinos = ViewBag.Destinos as List<ViajesColombiaMVC.Models.Destino> ?? new List<ViajesColombiaMVC.Models.Destino>();
    var reservas = ViewBag.Reservas as List<ViajesColombiaMVC.Models.Reserva> ?? new List<ViajesColombiaMVC.Models.Reserva>();
    var recomendados = ViewBag.Recomendados as List<ViajesColombiaMVC.Models.PaqueteTuristico> ?? new List<ViajesColombiaMVC.Models.PaqueteTuristico>();

    // Calcular estadísticas
    var reservasConfirmadas = reservas.Count(r => r.Estado == "Confirmada");
    var reservasPendientes = reservas.Count(r => r.Estado == "Pendiente");
    var proximaReserva = reservas.Where(r => r.FechaReserva >= DateTime.Today)
                                 .OrderBy(r => r.FechaReserva)
                                 .FirstOrDefault();
}

<div class="container mt-5">

    <!-- HEADER CON ESTADÍSTICAS -->
    <div class="row mb-5">
        <div class="col-12">
            <div class="card warm-card border-0 shadow-lg rounded-4 overflow-hidden">
                <div class="card-body p-4">
                    <div class="row align-items-center">
                        <div class="col-md-8">
                            <h1 class="fw-bold text-warning mb-2">¡Bienvenido de nuevo, @usuario!</h1>
                            <p class="text-light mb-0">Aquí tienes un resumen de tu actividad en Viajes Colombia</p>
                        </div>
                        <div class="col-md-4 text-md-end">
                            <div class="d-inline-flex align-items-center bg-dark bg-opacity-50 px-4 py-2 rounded-pill">
                                <i class="bi bi-calendar-check text-warning fs-4 me-2"></i>
                                <div>
                                    <div class="text-warning fw-bold fs-5">@reservas.Count</div>
                                    <small class="text-light">Reservas Totales</small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- PANEL DE ESTADÍSTICAS -->
    <div class="row mb-5 g-4">
        <div class="col-md-3">
            <div class="card warm-card border-0 shadow h-100 text-center rounded-4">
                <div class="card-body p-4">
                    <div class="bg-success bg-opacity-25 rounded-circle d-inline-flex align-items-center justify-content-center mb-3" style="width: 60px; height: 60px;">
                        <i class="bi bi-check-circle-fill text-success fs-3"></i>
                    </div>
                    <h3 class="fw-bold text-light">@reservasConfirmadas</h3>
                    <p class="text-light mb-0">Reservas Confirmadas</p>
                    <small class="text-success">✓ Activas</small>
                </div>
            </div>
        </div>

        <div class="col-md-3">
            <div class="card warm-card border-0 shadow h-100 text-center rounded-4">
                <div class="card-body p-4">
                    <div class="bg-warning bg-opacity-25 rounded-circle d-inline-flex align-items-center justify-content-center mb-3" style="width: 60px; height: 60px;">
                        <i class="bi bi-clock-fill text-warning fs-3"></i>
                    </div>
                    <h3 class="fw-bold text-light">@reservasPendientes</h3>
                    <p class="text-light mb-0">Reservas Pendientes</p>
                    <small class="text-warning">⏳ En revisión</small>
                </div>
            </div>
        </div>

        <div class="col-md-3">
            <div class="card warm-card border-0 shadow h-100 text-center rounded-4">
                <div class="card-body p-4">
                    <div class="bg-info bg-opacity-25 rounded-circle d-inline-flex align-items-center justify-content-center mb-3" style="width: 60px; height: 60px;">
                        <i class="bi bi-star-fill text-info fs-3"></i>
                    </div>
                    <h3 class="fw-bold text-light">@destinos.Count</h3>
                    <p class="text-light mb-0">Destinos Disponibles</p>
                    <small class="text-info">🌎 Por explorar</small>
                </div>
            </div>
        </div>

        <div class="col-md-3">
            <div class="card warm-card border-0 shadow h-100 text-center rounded-4">
                <div class="card-body p-4">
                    <div class="bg-primary bg-opacity-25 rounded-circle d-inline-flex align-items-center justify-content-center mb-3" style="width: 60px; height: 60px;">
                        <i class="bi bi-calendar2-event-fill text-primary fs-3"></i>
                    </div>
                    <h3 class="fw-bold text-light">@(proximaReserva != null ? "Próxima" : "Ninguna")</h3>
                    <p class="text-light mb-0">Próxima Reserva</p>
                    @if (proximaReserva != null)
                    {
                        <small class="text-primary">📅 @proximaReserva.FechaReserva.ToString("dd MMM")</small>
                    }
                    else
                    {
                        <small class="text-muted">Sin reservas futuras</small>
                    }
                </div>
            </div>
        </div>
    </div>

    <!-- ACCIONES RÁPIDAS MEJORADAS -->
    <h3 class="text-warning mb-4 d-flex align-items-center">
        <i class="bi bi-lightning-fill me-3"></i>Acciones Rápidas
    </h3>
    <div class="row justify-content-center g-4 mb-5">
        <div class="col-md-5">
            <div class="card border-0 shadow-lg h-100 text-center rounded-4 hover-shadow warm-card action-card">
                <div class="card-body p-4">
                    <div class="bg-gradient rounded-circle d-inline-flex align-items-center justify-content-center mb-3 warm-icon pulse-icon" style="width: 70px; height: 70px;">
                        <i class="bi bi-plus-square-fill text-white fs-2"></i>
                    </div>
                    <h5 class="card-title fw-bold text-warning">Nueva Reserva</h5>
                    <p class="card-text text-light mb-4">Selecciona uno de los paquetes disponibles y crea tu reserva en segundos.</p>
                    <div class="d-grid">
                        <a asp-controller="Reservas" asp-action="Create" class="btn btn-gradient px-4 py-3 fw-bold">
                            <i class="bi bi-plus-circle me-2"></i> Crear Nueva Reserva
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-md-5">
            <div class="card border-0 shadow-lg h-100 text-center rounded-4 hover-shadow warm-card action-card">
                <div class="card-body p-4">
                    <div class="bg-gradient rounded-circle d-inline-flex align-items-center justify-content-center mb-3 warm-icon" style="width: 70px; height: 70px;">
                        <i class="bi bi-journal-bookmark-fill text-white fs-2"></i>
                    </div>
                    <h5 class="card-title fw-bold text-warning">Gestión de Reservas</h5>
                    <p class="card-text text-light mb-4">Consulta, modifica o cancela tus reservas activas y pasadas.</p>
                    <div class="d-grid gap-2">
                        <a asp-controller="Reservas" asp-action="MisReservas" class="btn btn-outline-warning px-4 py-3 fw-bold">
                            <i class="bi bi-list-check me-2"></i> Ver Todas las Reservas
                        </a>
                        <a href="#" class="btn btn-outline-light px-4 py-2">
                            <i class="bi bi-download me-2"></i> Descargar Historial
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- PROGRESO DE VIAJERO -->
    <div class="row mb-5">
        <div class="col-12">
            <div class="card warm-card border-0 shadow-lg rounded-4">
                <div class="card-body p-4">
                    <div class="d-flex justify-content-between align-items-center mb-4">
                        <h4 class="text-warning mb-0 d-flex align-items-center">
                            <i class="bi bi-trophy-fill me-3"></i>Tu Progreso de Viajero
                        </h4>
                        <span class="badge bg-warning text-dark px-3 py-2">Nivel @(Math.Min(reservas.Count / 3 + 1, 5))</span>
                    </div>
                    <div class="progress mb-3" style="height: 20px;">
                        <div class="progress-bar bg-gradient" role="progressbar"
                             style="width: @(Math.Min(reservas.Count * 20, 100))%"
                             aria-valuenow="@reservas.Count"
                             aria-valuemin="0"
                             aria-valuemax="5">
                            @reservas.Count de 5 reservas
                        </div>
                    </div>
                    <div class="row text-center">
                        <div class="col">
                            <small class="text-light">🥉 Bronce (1)</small>
                        </div>
                        <div class="col">
                            <small class="text-light">🥈 Plata (2)</small>
                        </div>
                        <div class="col">
                            <small class="text-light">🥇 Oro (3)</small>
                        </div>
                        <div class="col">
                            <small class="text-light">💎 Platino (4)</small>
                        </div>
                        <div class="col">
                            <small class="text-light">👑 Diamante (5)</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- DESTINOS DESTACADOS MEJORADOS -->
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h3 class="text-warning mb-0 d-flex align-items-center">
            <i class="bi bi-geo-alt-fill me-3"></i>Destinos Destacados
        </h3>
        <a asp-controller="Destinos" asp-action="Index" class="btn btn-outline-warning btn-sm">
            Ver Todos <i class="bi bi-arrow-right ms-2"></i>
        </a>
    </div>

    <div class="row g-4 mb-5">
        @foreach (var destino in destinos.Take(4))
        {
            <div class="col-md-3">
                <div class="card h-100 border-0 shadow-sm rounded-4 hover-shadow warm-card destination-card">
                    <div class="position-relative">
                        @if (!string.IsNullOrEmpty(destino.Imagen))
                        {
                            <img src="~/images/@destino.Imagen" class="card-img-top rounded-top-4" style="height:180px; object-fit:cover;" />
                            <div class="position-absolute top-0 end-0 m-3">
                                <span class="badge bg-dark bg-opacity-75 px-3 py-1">
                                    <i class="bi bi-star-fill text-warning me-1"></i> Popular
                                </span>
                            </div>
                        }
                    </div>
                    <div class="card-body text-center">
                        <h5 class="card-title fw-bold text-warning">@destino.Nombre</h5>
                        <p class="card-text text-light mb-3" style="font-size: 0.9rem;">@destino.Descripcion</p>
                        <div class="d-grid">
                            <a asp-controller="Destinos" asp-action="Details" asp-route-id="@destino.Id" class="btn btn-outline-warning btn-sm">
                                Explorar Destino
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        }
    </div>

    <!-- PAQUETES RECOMENDADOS MEJORADOS -->
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h3 class="text-warning mb-0 d-flex align-items-center">
            <i class="bi bi-heart-fill me-3"></i>Recomendados Para Ti
        </h3>
        <small class="text-light">
            <i class="bi bi-info-circle me-1"></i> Basado en tu historial
        </small>
    </div>

    @if (!recomendados.Any())
    {
        <div class="alert alert-dark border-warning bg-dark text-warning d-flex align-items-center">
            <i class="bi bi-info-circle-fill me-3 fs-4"></i>
            <div>
                <h6 class="alert-heading mb-1">No tenemos recomendaciones aún</h6>
                <p class="mb-0">Realiza tu primera reserva para obtener recomendaciones personalizadas.</p>
            </div>
        </div>
    }
    else
    {
        <div class="row g-4 mb-5">
            @foreach (var paquete in recomendados.Take(4))
            {
                <div class="col-md-3">
                    <div class="card h-100 border-0 shadow-sm rounded-4 hover-shadow warm-card">
                        <div class="position-relative">
                            @if (!string.IsNullOrEmpty(paquete.Imagen))
                            {
                                <img src="~/images/@paquete.Imagen" class="card-img-top rounded-top-4" style="height:160px; object-fit:cover;" />
                            }
                            <div class="position-absolute top-0 start-0 m-3">
                                <span class="badge bg-gradient px-3 py-1">
                                    <i class="bi bi-person-fill me-1"></i> @paquete.Cupo
                                </span>
                            </div>
                        </div>
                        <div class="card-body text-center">
                            <h5 class="card-title fw-bold text-warning">@paquete.Nombre</h5>
                            <p class="card-text text-light mb-3" style="font-size: 0.9rem;">@paquete.Descripcion</p>
                            <div class="d-flex justify-content-between align-items-center mb-3">
                                <span class="text-warning fw-bold fs-5">$@paquete.Precio.ToString("N0")</span>
                                <small class="text-light">COP</small>
                            </div>
                            <div class="d-grid">
                                <a asp-controller="Reservas" asp-action="Create" asp-route-paqueteId="@paquete.Id" class="btn btn-gradient btn-sm">
                                    <i class="bi bi-bag-check me-2"></i> Reservar Ahora
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            }
        </div>
    }

    <!-- HISTORIAL DE RESERVAS MEJORADO -->
    <div class="row mb-5">
        <div class="col-12">
            <div class="card warm-card border-0 shadow-lg rounded-4">
                <div class="card-body p-4">
                    <div class="d-flex justify-content-between align-items-center mb-4">
                        <h4 class="text-warning mb-0 d-flex align-items-center">
                            <i class="bi bi-clock-history me-3"></i>Historial de Reservas
                        </h4>
                        <div>
                            <button class="btn btn-outline-light btn-sm me-2">
                                <i class="bi bi-filter me-1"></i> Filtrar
                            </button>
                            <button class="btn btn-outline-light btn-sm">
                                <i class="bi bi-download me-1"></i> Exportar
                            </button>
                        </div>
                    </div>

                    @if (!reservas.Any())
                    {
                        <div class="text-center py-5">
                            <i class="bi bi-calendar-x text-warning fs-1 mb-3"></i>
                            <h5 class="text-warning mb-3">No hay reservas aún</h5>
                            <p class="text-light mb-4">Comienza tu primera aventura con nosotros</p>
                            <a asp-controller="Reservas" asp-action="Create" class="btn btn-gradient px-4">
                                <i class="bi bi-plus-circle me-2"></i> Crear Primera Reserva
                            </a>
                        </div>
                    }
                    else
                    {
                        <div class="table-responsive">
                            <table class="table table-dark table-hover align-middle mb-0">
                                <thead class="table-warning">
                                    <tr>
                                        <th class="ps-4">Paquete</th>
                                        <th>Destino</th>
                                        <th>Fecha</th>
                                        <th>Estado</th>
                                        <th class="text-center pe-4">Acciones</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @foreach (var r in reservas.OrderByDescending(r => r.FechaReserva))
                                    {
                                        <tr class="hover-row">
                                            <td class="ps-4">
                                                <div class="d-flex align-items-center">
                                                    <div class="flex-shrink-0">
                                                        <i class="bi bi-briefcase-fill text-warning fs-5"></i>
                                                    </div>
                                                    <div class="flex-grow-1 ms-3">
                                                        <div class="fw-bold text-light">@r.Paquete.Nombre</div>
                                                        <small class="text-muted">ID: @r.Id.ToString().Substring(0, 8)</small>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="d-flex align-items-center">
                                                    <i class="bi bi-geo-alt text-info me-2"></i>
                                                    @r.Paquete.Destino.Nombre
                                                </div>
                                            </td>
                                            <td>
                                                <div>
                                                    <div>@r.FechaReserva.ToString("dd MMM yyyy")</div>
                                                    <small class="text-muted">@r.FechaReserva.ToString("hh:mm tt")</small>
                                                </div>
                                            </td>
                                            <td>
                                                @if (r.Estado == "Confirmada")
                                                {
                                                    <span class="badge bg-success px-3 py-2 rounded-pill">
                                                        <i class="bi bi-check-circle me-1"></i> @r.Estado
                                                    </span>
                                                }
                                                else if (r.Estado == "Pendiente")
                                                {
                                                    <span class="badge bg-warning text-dark px-3 py-2 rounded-pill">
                                                        <i class="bi bi-clock me-1"></i> @r.Estado
                                                    </span>
                                                }
                                                else if (r.Estado == "Cancelada")
                                                {
                                                    <span class="badge bg-danger px-3 py-2 rounded-pill">
                                                        <i class="bi bi-x-circle me-1"></i> @r.Estado
                                                    </span>
                                                }
                                                else
                                                {
                                                    <span class="badge bg-secondary px-3 py-2 rounded-pill">@r.Estado</span>
                                                }
                                            </td>
                                            <td class="text-center pe-4">
                                                <div class="btn-group" role="group">
                                                    <button class="btn btn-outline-light btn-sm">
                                                        <i class="bi bi-eye"></i>
                                                    </button>
                                                    <button class="btn btn-outline-warning btn-sm">
                                                        <i class="bi bi-printer"></i>
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                    }
                                </tbody>
                            </table>
                        </div>
                        <div class="d-flex justify-content-between align-items-center mt-4">
                            <small class="text-light">Mostrando @reservas.Count de @reservas.Count reservas</small>
                            <a asp-controller="Reservas" asp-action="MisReservas" class="btn btn-outline-warning btn-sm">
                                Ver Historial Completo
                            </a>
                        </div>
                    }
                </div>
            </div>
        </div>
    </div>

    <!-- PIE DE PÁGINA DEL PANEL -->
    <div class="row mb-5">
        <div class="col-12">
            <div class="card warm-card border-0 shadow-lg rounded-4">
                <div class="card-body p-4">
                    <div class="row align-items-center">
                        <div class="col-md-6">
                            <h5 class="text-warning mb-3">¿Necesitas ayuda?</h5>
                            <div class="d-flex flex-wrap gap-3">
                                <a href="#" class="btn btn-outline-light btn-sm">
                                    <i class="bi bi-question-circle me-2"></i> Centro de Ayuda
                                </a>
                                <a href="#" class="btn btn-outline-light btn-sm">
                                    <i class="bi bi-telephone me-2"></i> Soporte 24/7
                                </a>
                                <a href="#" class="btn btn-outline-light btn-sm">
                                    <i class="bi bi-chat-dots me-2"></i> Chat en Vivo
                                </a>
                            </div>
                        </div>
                        <div class="col-md-6 text-md-end mt-3 mt-md-0">
                            <div class="d-flex flex-column align-items-md-end">
                                <a asp-controller="Home" asp-action="Logout" class="btn btn-danger btn-lg px-5 fw-bold mb-3">
                                    <i class="bi bi-box-arrow-right me-2"></i> Cerrar Sesión
                                </a>
                                <small class="text-light">
                                    <i class="bi bi-shield-check me-1"></i> Sesión segura • Último acceso: @DateTime.Now.ToString("HH:mm")
                                </small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>

<style>
    /* Mejoras generales */
    .container {
        max-width: 1400px;
    }

    /* Card hover mejorado */
    .hover-shadow:hover {
        transform: translateY(-8px) scale(1.01);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        box-shadow: 0 1rem 3rem rgba(255, 140, 0, 0.35) !important;
    }

    /* Warm card mejorada */
    .warm-card {
        background: linear-gradient(135deg, rgba(30,30,30,0.85) 0%, rgba(20,20,20,0.95) 100%);
        border: 1px solid rgba(255,140,0,0.25);
        backdrop-filter: blur(20px);
        color: #e3e9f3;
    }

    /* Warm icon circle mejorado */
    .warm-icon {
        background: linear-gradient(135deg, #ff7f50, #ff4500);
        box-shadow: 0 4px 15px rgba(255, 69, 0, 0.3);
    }

    /* Gradient button mejorado */
    .btn-gradient {
        background: linear-gradient(135deg, #ff7f50, #ff4500);
        color: #fff;
        border: none;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
    }

        .btn-gradient:hover {
            background: linear-gradient(135deg, #ff4500, #ff7f50);
            color: #fff;
            box-shadow: 0 0 20px rgba(255, 127, 80, 0.6);
            transform: translateY(-2px);
        }

        .btn-gradient:after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 5px;
            height: 5px;
            background: rgba(255, 255, 255, 0.5);
            opacity: 0;
            border-radius: 100%;
            transform: scale(1, 1) translate(-50%);
            transform-origin: 50% 50%;
        }

        .btn-gradient:focus:after,
        .btn-gradient:hover:after {
            animation: ripple 1s ease-out;
        }

    /* Table improvements */
    .table-dark {
        --bs-table-bg: transparent;
        --bs-table-striped-bg: rgba(255, 140, 0, 0.05);
        --bs-table-hover-bg: rgba(255, 140, 0, 0.1);
    }

    .hover-row:hover {
        background-color: rgba(255, 140, 0, 0.15) !important;
        transition: background-color 0.2s ease;
    }

    /* Progress bar */
    .progress {
        background: rgba(255, 255, 255, 0.1);
        border-radius: 10px;
        overflow: hidden;
    }

    .progress-bar {
        background: linear-gradient(90deg, #ff7f50, #ff4500);
        border-radius: 10px;
        transition: width 1.5s ease-in-out;
    }

    /* Badge improvements */
    .badge {
        font-weight: 500;
        letter-spacing: 0.3px;
    }

    /* Destination card */
    .destination-card .card-img-top {
        transition: transform 0.5s ease;
    }

    .destination-card:hover .card-img-top {
        transform: scale(1.05);
    }

    /* Action card */
    .action-card {
        border-top: 4px solid transparent;
        transition: border-color 0.3s ease;
    }

        .action-card:hover {
            border-top-color: #ff7f50;
        }

    /* Pulse animation for icons */
    .pulse-icon {
        animation: pulse 2s infinite;
    }

    /* Animations */
    @@keyframes pulse {
        0% {
            box-shadow: 0 0 0 0 rgba(255, 127, 80, 0.7);
        }

        70% {
            box-shadow: 0 0 0 10px rgba(255, 127, 80, 0);
        }

        100% {
            box-shadow: 0 0 0 0 rgba(255, 127, 80, 0);
        }
    }

    @@keyframes ripple {
        0% {
            transform: scale(0, 0);
            opacity: 1;
        }

        20% {
            transform: scale(25, 25);
            opacity: 1;
        }

        100% {
            opacity: 0;
            transform: scale(40, 40);
        }
    }

    /* Text truncate for multiple lines */
    .text-truncate-2 {
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }

    /* Scrollbar styling */
    ::-webkit-scrollbar {
        width: 8px;
    }

    ::-webkit-scrollbar-track {
        background: rgba(255, 140, 0, 0.1);
    }

    ::-webkit-scrollbar-thumb {
        background: linear-gradient(135deg, #ff7f50, #ff4500);
        border-radius: 4px;
    }

        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(135deg, #ff4500, #ff7f50);
        }
</style>

<!-- Script para interactividad adicional -->
<script>
    document.addEventListener('DOMContentLoaded', function () {
        // Inicializar tooltips
        var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
        var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
            return new bootstrap.Tooltip(tooltipTriggerEl);
        });

        // Animación de entrada para tarjetas
        const cards = document.querySelectorAll('.card');
        cards.forEach((card, index) => {
            card.style.opacity = '0';
            card.style.transform = 'translateY(20px)';
            card.style.transition = 'opacity 0.5s ease, transform 0.5s ease';

            setTimeout(() => {
                card.style.opacity = '1';
                card.style.transform = 'translateY(0)';
            }, 100 * index);
        });

        // Actualizar hora de último acceso
        function updateLastAccess() {
            const now = new Date();
            const timeString = now.toLocaleTimeString('es-CO', {
                hour: '2-digit',
                minute: '2-digit'
            });
            document.querySelector('.last-access').textContent = timeString;
        }

        // Actualizar cada minuto
        setInterval(updateLastAccess, 60000);

        // Efecto de carga para la barra de progreso
        const progressBar = document.querySelector('.progress-bar');
        if (progressBar) {
            setTimeout(() => {
                progressBar.style.width = progressBar.style.width;
            }, 300);
        }

        // Añadir efecto de clic a botones
        document.querySelectorAll('.btn').forEach(button => {
            button.addEventListener('click', function(e) {
                const ripple = document.createElement('span');
                const rect = this.getBoundingClientRect();
                const size = Math.max(rect.width, rect.height);
                const x = e.clientX - rect.left - size / 2;
                const y = e.clientY - rect.top - size / 2;

                ripple.style.cssText = `
                    position: absolute;
                    border-radius: 50%;
                    background: rgba(255, 255, 255, 0.7);
                    transform: scale(0);
                    animation: ripple-animation 0.6s linear;
                    width: ${size}px;
                    height: ${size}px;
                    top: ${y}px;
                    left: ${x}px;
                    pointer-events: none;
                `;

                this.appendChild(ripple);

                setTimeout(() => {
                    ripple.remove();
                }, 600);
            });
        });
    });

    // Añadir estilos dinámicos para ripple effect
    const style = document.createElement('style');
    style.textContent = `
        @@keyframes ripple-animation {
            to {
                transform: scale(4);
                opacity: 0;
            }
        }
    `;
    document.head.appendChild(style);
</script>
